<!DOCTYPE html>
<html lang="en">
<style>
    /* From Uiverse.io by terenceodonoghue */
    .container {
        position: absolute;
        top: 50%;
        left: 50%;
        border-radius: 50%;
        height: 96px;
        width: 96px;
        animation: rotate_3922 1.2s linear infinite;
        background-color: #9b59b6;
        background-image: linear-gradient(#9b59b6, #84cdfa, #5ad1cd);
    }

    .container span {
        position: absolute;
        border-radius: 50%;
        height: 100%;
        width: 100%;
        background-color: #9b59b6;
        background-image: linear-gradient(#9b59b6, #84cdfa, #5ad1cd);
    }

    .container span:nth-of-type(1) {
        filter: blur(5px);
    }

    .container span:nth-of-type(2) {
        filter: blur(10px);
    }

    .container span:nth-of-type(3) {
        filter: blur(25px);
    }

    .container span:nth-of-type(4) {
        filter: blur(50px);
    }

    .container::after {
        content: "";
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        background-color: #fff;
        border: solid 5px #ffffff;
        border-radius: 50%;
    }

    @keyframes rotate_3922 {
        from {
            transform: translate(-50%, -50%) rotate(0deg);
        }

        to {
            transform: translate(-50%, -50%) rotate(360deg);
        }
    }
</style>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Responsive UI Form</title>
    <style>
        /* Import Google Font */
        @import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500&display=swap');

        * {
            font-family: 'Kanit', sans-serif;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #edf2f7;
            padding: 20px;
        }

        /* Card */
        .card {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 95%;
            min-height: 90vh;
            border-radius: 30px;
            background: #f0f4f8;
            box-shadow: 15px 15px 30px #c5d0db,
                -15px -15px 30px #ffffff;
            transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
        }

        /* Wrapper สำหรับเนื้อหาใน card */
        .form-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            width: 100%;
            transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .form-wrapper h1 {
            margin: 0;
            font-size: 1.8rem;
            color: #333;
            text-align: center;
        }

        .form-wrapper p {
            margin: 0;
            margin-bottom: 50px;
            font-size: 1rem;
            color: #6c757d;
            text-align: center;
        }

        /* Wave-group (สำหรับ register) */
        .wave-group {
            position: relative;
            width: 100%;
            max-width: 300px;
        }

        .wave-group .input {
            font-size: 16px;
            padding: 10px 10px 10px 5px;
            display: block;
            width: 100%;
            border: none;
            border-bottom: 1px solid #6c757d;
            background: transparent;
            transition: all 0.4s ease;
        }

        .wave-group .input:focus {
            outline: none;
        }

        .wave-group .label {
            color: #6c757d;
            font-size: 18px;
            font-weight: normal;
            position: absolute;
            pointer-events: none;
            left: 5px;
            top: 10px;
            display: flex;
            transition: all 0.2s ease;
        }

        .wave-group .label-char {
            transition: 0.2s ease all;
            transition-delay: calc(var(--index) * 0.05s);
        }

        .wave-group .input:focus~.label .label-char,
        .wave-group .input:valid~.label .label-char {
            transform: translateY(-20px);
            font-size: 14px;
            color: #5264ae;
        }

        .wave-group .bar {
            position: relative;
            display: block;
            width: 100%;
        }

        .wave-group .bar:before,
        .wave-group .bar:after {
            content: '';
            height: 2px;
            width: 0;
            bottom: 1px;
            position: absolute;
            background: #5264ae;
            transition: 0.2s ease all;
        }

        .wave-group .bar:before {
            left: 50%;
        }

        .wave-group .bar:after {
            right: 50%;
        }

        .wave-group .input:focus~.bar:before,
        .wave-group .input:focus~.bar:after {
            width: 50%;
        }

        /* Textbox สำหรับ quiz answer (จาก Uiverse.io by kamehame-ha) */
        .coolinput {
            display: flex;
            flex-direction: column;
            width: fit-content;
            max-width: 240px;
            transition: all 0.4s ease;
        }

        .coolinput label.text {
            font-size: 0.75rem;
            color: #818CF8;
            font-weight: 700;
            position: relative;
            top: 0.5rem;
            margin: 0 0 0 7px;
            padding: 0 3px;
            background: #e8e8e8;
            width: fit-content;
        }

        .coolinput input[type="text"].input {
            padding: 11px 10px;
            font-size: 0.75rem;
            border: 2px #818CF8 solid;
            border-radius: 5px;
            background: #e8e8e8;
            transition: all 0.4s ease;
        }

        .coolinput input[type="text"].input:focus {
            outline: none;
        }

        /* Button style (แก้ไขให้มีอนิเมชันและเปลี่ยนเป็น Done!) */
        .button {
            --primary: #4f46e5;
            --neutral-1: #ffffff;
            --neutral-2: #f3f4f6;
            --radius: 16px;
            cursor: pointer;
            border-radius: var(--radius);
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
            border: none;
            box-shadow:
                0 1px 1px rgba(255, 255, 255, 0.4),
                0 12px 24px rgba(0, 0, 0, 0.15),
                0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            min-width: 220px;
            padding: 22px;
            height: 72px;
            font-family: "Inter", system-ui, sans-serif;
            font-style: normal;
            font-size: 19px;
            font-weight: 600;
            letter-spacing: -0.2px;
            background: var(--primary);
            color: #ffffff;
            overflow: hidden;
        }

        .button span {
            color: #6c757d;
        }

        .button svg {
            color: #6c757d;
        }

        .button:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow:
                0 2px 2px rgba(255, 255, 255, 0.4),
                0 18px 32px rgba(0, 0, 0, 0.15),
                0 8px 12px rgba(0, 0, 0, 0.1);
        }

        .button:active {
            transform: scale(1);
            box-shadow:
                0 0 1px 2px rgba(255, 255, 255, 0.3),
                0 10px 3px -3px rgba(0, 0, 0, 0.2);
        }

        .button:after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: var(--radius);
            border: 2.5px solid transparent;
            background:
                linear-gradient(var(--neutral-1), var(--neutral-2)) padding-box,
                linear-gradient(to bottom, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.45)) border-box;
            z-index: 0;
            transition: all 0.4s ease;
        }

        .button:hover::after {
            transform: scale(1.05, 1.1);
            box-shadow: inset 0 -1px 3px 0 rgba(255, 255, 255, 1);
        }

        .button::before {
            content: "";
            inset: 7px 6px 6px 6px;
            position: absolute;
            background: linear-gradient(to top, var(--neutral-1), var(--neutral-2));
            border-radius: 30px;
            filter: blur(0.5px);
            z-index: 2;
        }

        /* สอง state ของปุ่ม */
        .state {
            padding-left: 29px;
            z-index: 3;
            display: flex;
            align-items: center;
            position: relative;
        }

        .state p {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
        }

        .state .icon {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            margin: auto;
            transform: scale(1.25);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .state .icon svg {
            overflow: visible;
        }

        /* Outline animation */
        .outline {
            position: absolute;
            border-radius: inherit;
            overflow: hidden;
            z-index: 1;
            opacity: 0;
            transition: opacity 0.4s ease;
            inset: -2px -3.5px;
        }

        .outline::before {
            content: "";
            position: absolute;
            inset: -100%;
            background: conic-gradient(from 180deg, transparent 60%, var(--primary) 85%, transparent 100%);
            animation: spin 2.5s linear infinite;
            animation-play-state: paused;
            opacity: 0.7;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .button:hover .outline {
            opacity: 1;
        }

        .button:hover .outline::before {
            animation-play-state: running;
        }

        /* Letters Animation */
        .state p span {
            display: block;
            opacity: 0;
            animation: slideDown 0.8s ease forwards calc(var(--i) * 0.03s);
        }

        .button:hover p span {
            opacity: 1;
            animation: wave 0.5s ease forwards calc(var(--i) * 0.02s);
        }

        .button:focus p span {
            opacity: 1;
            animation: disapear 0.6s ease forwards calc(var(--i) * 0.03s);
        }

        @keyframes wave {
            30% {
                opacity: 1;
                transform: translateY(4px);
            }

            50% {
                opacity: 1;
                transform: translateY(-4px);
                color: var(--primary);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            0% {
                opacity: 0;
                transform: translateY(-20px) translateX(5px) rotate(-90deg);
                filter: blur(5px);
            }

            30% {
                opacity: 1;
                transform: translateY(4px) translateX(0) rotate(0);
                filter: blur(0);
            }

            50% {
                opacity: 1;
                transform: translateY(-3px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes disapear {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
                transform: translateX(5px) translateY(20px);
                filter: blur(5px);
            }
        }

        /* Icon plane animation */
        .state--default .icon svg {
            animation: land 0.6s ease forwards;
        }

        .button:hover .state--default .icon {
            transform: rotate(45deg) scale(1.25);
        }

        .button:focus .state--default svg {
            animation: takeOff 0.8s linear forwards;
        }

        .button:focus .state--default .icon {
            transform: rotate(0) scale(1.25);
        }

        @keyframes takeOff {
            0% {
                opacity: 1;
            }

            60% {
                opacity: 1;
                transform: translateX(80px) rotate(45deg) scale(2.2);
            }

            100% {
                opacity: 0;
                transform: translateX(180px) rotate(45deg) scale(0);
            }
        }

        @keyframes land {
            0% {
                transform: translateX(-60px) translateY(30px) rotate(-50deg) scale(2);
                opacity: 0;
                filter: blur(3px);
            }

            100% {
                transform: translateX(0) translateY(0) rotate(0);
                opacity: 1;
                filter: blur(0);
            }
        }

        /* Contrail */
        .state--default .icon:before {
            content: "";
            position: absolute;
            top: 50%;
            height: 2px;
            width: 0;
            left: -5px;
            background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.5));
        }

        .button:focus .state--default .icon:before {
            animation: contrail 0.8s linear forwards;
        }

        @keyframes contrail {
            0% {
                width: 0;
                opacity: 1;
            }

            8% {
                width: 15px;
            }

            60% {
                opacity: 0.7;
                width: 80px;
            }

            100% {
                opacity: 0;
                width: 160px;
            }
        }

        /* State Sent (เปลี่ยนข้อความเป็น Done!) */
        .state--sent {
            display: none;
        }

        .state--sent svg {
            transform: scale(1.25);
            margin-right: 8px;
        }

        .button:focus .state--default {
            position: absolute;
        }

        .button:focus .state--sent {
            display: flex;
        }

        .button:focus .state--sent p span {
            opacity: 0;
            animation: slideDown 0.8s ease forwards calc(var(--i) * 0.2s);
        }

        .button:focus .state--sent .icon svg {
            opacity: 0;
            animation: appear 1.2s ease forwards 0.8s;
        }

        @keyframes appear {
            0% {
                opacity: 0;
                transform: scale(4) rotate(-40deg);
                filter: blur(4px);
            }

            30% {
                opacity: 1;
                transform: scale(0.6);
                filter: blur(1px);
            }

            50% {
                opacity: 1;
                transform: scale(1.2);
                filter: blur(0);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ======= Enhanced Smooth Transitions & Animations ======= */
        html {
            scroll-behavior: smooth;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease forwards;
        }

        /* ======= End Enhanced Smooth Transitions ======= */

        /* Responsive adjustments สำหรับมือถือและแท็บเล็ต */
        @media (max-width: 480px) {
            body {
                padding: 0;
            }

            .card {
                padding: 10px;
                width: 100%;
                min-height: 100vh;
                border-radius: 0;
                box-shadow: none;
            }

            .form-wrapper {
                width: 100%;
                padding: 10px;
            }

            .form-wrapper h1 {
                font-size: 1.3rem;
            }

            .wave-group .input {
                font-size: 14px;
            }

            .wave-group .label {
                font-size: 16px;
            }

            .button {
                font-size: 16px;
                padding: 18px;
                height: 65px;
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .card {
                width: 100%;
                padding: 10px;
            }
        }

        @media (min-width: 769px) {
            .card {
                max-width: 600px;
            }
        }
    </style>
</head>

<body>
    <!-- <audio id="soundEffect" src="https://www.soundjay.com/button/beep-07.mp3" preload="auto"></audio> -->
    <div class="container">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
    </div>
    <!-- Register Page -->
    <div id="registerpage" class="card">
        <div class="form-wrapper">
            <h1>Testing Center By Teacher Sopa</h1>
            <p>Please enter your information to start the 10-question, 10-minute testing.</p>
            <div class="wave-group">
                <input required type="text" id="name" class="input" />
                <span class="bar"></span>
                <label class="label">
                    <span class="label-char" style="--index: 0">N</span>
                    <span class="label-char" style="--index: 1">a</span>
                    <span class="label-char" style="--index: 2">m</span>
                    <span class="label-char" style="--index: 3">e</span>
                </label>
            </div>
            <div class="wave-group">
                <input required type="text" id="lastname" class="input" />
                <span class="bar"></span>
                <label class="label">
                    <span class="label-char" style="--index: 0">L</span>
                    <span class="label-char" style="--index: 1">a</span>
                    <span class="label-char" style="--index: 2">s</span>
                    <span class="label-char" style="--index: 3">t</span>
                    <span class="label-char" style="--index: 4">n</span>
                    <span class="label-char" style="--index: 5">a</span>
                    <span class="label-char" style="--index: 6">m</span>
                    <span class="label-char" style="--index: 7">e</span>
                </label>
            </div>
            <div class="wave-group">
                <input required type="number" id="number" class="input" />
                <span class="bar"></span>
                <label class="label">
                    <span class="label-char" style="--index: 0">N</span>
                    <span class="label-char" style="--index: 1">u</span>
                    <span class="label-char" style="--index: 2">m</span>
                    <span class="label-char" style="--index: 3">b</span>
                    <span class="label-char" style="--index: 4">e</span>
                    <span class="label-char" style="--index: 5">r</span>
                </label>
            </div>
            <button id="submit-register" class="button">
                <div class="outline"></div>
                <div class="state state--default">
                    <div class="icon">
                        <!-- Icon สำหรับ register -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1.2em"
                            width="1.2em">
                            <g style="filter: url(#shadow)">
                                <path fill="currentColor"
                                    d="M14.2199 21.63C13.0399 21.63 11.3699 20.8 10.0499 16.83L9.32988 14.67L7.16988 13.95C3.20988 12.63 2.37988 10.96 2.37988 9.78001C2.37988 8.61001 3.20988 6.93001 7.16988 5.60001L15.6599 2.77001C17.7799 2.06001 19.5499 2.27001 20.6399 3.35001C21.7299 4.43001 21.9399 6.21001 21.2299 8.33001L18.3999 16.82C17.0699 20.8 15.3999 21.63 14.2199 21.63Z">
                                </path>
                                <path fill="currentColor"
                                    d="M10.11 14.4C9.92005 14.4 9.73005 14.33 9.58005 14.18C9.29005 13.89 9.29005 13.41 9.58005 13.12L13.16 9.53C13.45 9.24 13.93 9.24 14.22 9.53C14.51 9.82 14.51 10.3 14.22 10.59L10.64 14.18C10.5 14.33 10.3 14.4 10.11 14.4Z">
                                </path>
                            </g>
                            <defs>
                                <filter id="shadow">
                                    <feDropShadow flood-opacity="0.6" stdDeviation="0.8" dy="1" dx="0"></feDropShadow>
                                </filter>
                            </defs>
                        </svg>
                    </div>
                    <p>
                        <span style="--i:0">S</span>
                        <span style="--i:1">u</span>
                        <span style="--i:2">b</span>
                        <span style="--i:3">m</span>
                        <span style="--i:4">i</span>
                        <span style="--i:5">t</span>
                    </p>
                </div>
                <div class="state state--sent">
                    <div class="icon">
                        <!-- Icon สำหรับ Done! -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1.2em"
                            width="1.2em">
                            <g style="filter: url(#shadow)">
                                <path stroke="currentColor" stroke-width="2" d="M5 13l4 4L19 7" />
                            </g>
                            <defs>
                                <filter id="shadow">
                                    <feDropShadow flood-opacity="0.6" stdDeviation="0.8" dy="1" dx="0"></feDropShadow>
                                </filter>
                            </defs>
                        </svg>
                    </div>
                    <p>
                        <span style="--i:0">D</span>
                        <span style="--i:1">o</span>
                        <span style="--i:2">n</span>
                        <span style="--i:3">e</span>
                        <span style="--i:4">!</span>
                    </p>
                </div>
            </button>
        </div>
    </div>

    <!-- Quiz Page -->
    <div id="quizPage" class="card" style="display: none;">
        <div class="form-wrapper">
            <h1>Quiz Time!</h1>
            <p id="timer" style="font-size: 1.2rem; text-align: center;">Time Left: 10:00</p>
            <p id="question" style="font-size: 1.2rem; text-align: center;"></p>
            <!-- ใช้ textbox จาก Uiverse.io -->
            <div class="coolinput">
                <label for="quizAnswer" class="text">Your Answer:</label>
                <input type="text" placeholder="Write here..." id="quizAnswer" class="input">
            </div>
            <button id="submitAnswer" class="button">
                <div class="outline"></div>
                <div class="state state--default">
                    <div class="icon">
                        <!-- Icon สำหรับ submit answer -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1.2em"
                            width="1.2em">
                            <path fill="currentColor" d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </div>
                    <p>
                        <span style="--i:0">S</span>
                        <span style="--i:1">u</span>
                        <span style="--i:2">b</span>
                        <span style="--i:3">m</span>
                        <span style="--i:4">i</span>
                        <span style="--i:5">t</span>
                    </p>
                </div>
                <div class="state state--sent">
                    <div class="icon">
                        <!-- Icon สำหรับ Done! -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1.2em"
                            width="1.2em">
                            <g style="filter: url(#shadow)">
                                <path stroke="currentColor" stroke-width="2" d="M5 13l4 4L19 7" />
                            </g>
                            <defs>
                                <filter id="shadow">
                                    <feDropShadow flood-opacity="0.6" stdDeviation="0.8" dy="1" dx="0"></feDropShadow>
                                </filter>
                            </defs>
                        </svg>
                    </div>
                    <p>
                        <span style="--i:0">N</span>
                        <span style="--i:1">e</span>
                        <span style="--i:2">x</span>
                        <span style="--i:3">t</span>
                        <span style="--i:4">!</span>
                    </p>
                </div>
            </button>
            <p id="feedback" style="color: #5264ae;"></p>
        </div>
    </div>

    <!-- Result Page -->
    <div id="resultPage" class="card" style="display: none;">
        <div class="form-wrapper">
            <h1>Quiz Result</h1>
            <p id="finalScore" style="font-size: 1.3rem;"></p>
            <button id="downloadResult" class="button">
                <div class="outline"></div>
                <div class="state state--default">
                    <div class="icon">
                        <!-- Icon สำหรับดาวน์โหลด -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1.2em"
                            width="1.2em">
                            <path stroke="currentColor" stroke-width="2" d="M12 4v12m0 0l-4-4m4 4l4-4M4 20h16" />
                        </svg>
                    </div>
                    <p>
                        <span style="--i:0">D</span>
                        <span style="--i:1">o</span>
                        <span style="--i:2">w</span>
                        <span style="--i:3">n</span>
                        <span style="--i:4">l</span>
                        <span style="--i:5">o</span>
                        <span style="--i:6">a</span>
                        <span style="--i:7">d</span>
                    </p>
                </div>
                <div class="state state--sent">
                    <div class="icon">
                        <!-- Icon สำหรับ Done! -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="1.2em"
                            width="1.2em">
                            <g style="filter: url(#shadow)">
                                <path stroke="currentColor" stroke-width="2" d="M5 13l4 4L19 7" />
                            </g>
                            <defs>
                                <filter id="shadow">
                                    <feDropShadow flood-opacity="0.6" stdDeviation="0.8" dy="1" dx="0"></feDropShadow>
                                </filter>
                            </defs>
                        </svg>
                    </div>
                    <p>
                        <span style="--i:0">D</span>
                        <span style="--i:1">o</span>
                        <span style="--i:2">n</span>
                        <span style="--i:3">e</span>
                        <span style="--i:4">!</span>
                    </p>
                </div>
            </button>
        </div>
    </div>

    <script>
        // // ฟังก์ชันสำหรับเล่นซาวเอฟเฟค
        // function playSound() {
        //     document.getElementById("soundEffect").play();
        // }

        // Registration Elements
        // const nameInput = document.getElementById('stun');
        // const lastnameInput = document.getElementById('stul');
        // const numberInput = document.getElementById('stunm');
        // const submitRegister = document.getElementById('sub-reg');
        const nameInput = document.getElementById('name');
        const lastnameInput = document.getElementById('lastname');
        const numberInput = document.getElementById('number');
        const submitRegister = document.getElementById('submit-register');

        // Quiz Elements
        // const quizPage = document.getElementById('page');
        // const questionEl = document.getElementById('qr');
        // const quizAnswer = document.getElementById('qra');
        // const submitAnswer = document.getElementById('subqra');
        // const feedbackEl = document.getElementById('fb');
        const quizPage = document.getElementById('quizPage');
        const questionEl = document.getElementById('question');
        const quizAnswer = document.getElementById('quizAnswer');
        const submitAnswer = document.getElementById('submitAnswer');
        const feedbackEl = document.getElementById('feedback');

        // Result Elements
        // const resultPage = document.getElementById('rs');
        // const finalScoreEl = document.getElementById('fs');
        // const downloadResultBtn = document.getElementById('dl');
        const resultPage = document.getElementById('resultPage');
        const finalScoreEl = document.getElementById('finalScore');
        const downloadResultBtn = document.getElementById('downloadResult');

        // Pages
        // const registerPage = document.getElementById('regsp');
        const registerPage = document.getElementById('registerpage');

        // Quiz Data (เพิ่ม/ลดโจทย์ได้ตามต้องการ)
        // const questions = [
        //   { sentence: "I want ____ eat pizza.", answer: "to" },
        //   { sentence: "She ____ playing soccer.", answer: "is" },
        //   { sentence: "They ____ to the park yesterday.", answer: "went" },
        //   { sentence: "He ____ a doctor.", answer: "is" },
        //   { sentence: "We ____ happy.", answer: "are" },
        //   { sentence: "The cat ____ on the mat.", answer: "sat" },
        //   { sentence: "She ____ a book.", answer: "reads" },
        //   { sentence: "They ____ playing games.", answer: "love" },
        //   { sentence: "I ____ a student.", answer: "am" },
        //   { sentence: "He ____ to school every day.", answer: "goes" }
        // ];
        const questions = [
            // Topic 1a: Used to and would (20 questions)
            {
                sentence: "When I was young, I ____ ride my bike to school.",
                answer: "used to"
            },
            {
                sentence: "Every summer, my grandparents ____ visit us in the countryside.",
                answer: "would"
            },
        ];


        // สำหรับสุ่มโจทย์ 20 ข้อ (ถ้าโจทย์ใน pool น้อยกว่า 20 จะสุ่มแบบมีการทำซ้ำ)
        let quizQuestions = [];
            //  เปลี่ยนจำนวนข้อ
        function generateQuizQuestions() {
            if (questions.length >= 10) {
                quizQuestions = shuffleArray(questions).slice(0, 10);
            } else {
                quizQuestions = shuffleArray(questions);
                return;
                while (quizQuestions.length < 10) {
                    quizQuestions.push(questions[Math.floor(Math.random() * questions.length)]);
                }
            }
        }
        // ฟังก์ชันสุ่ม array
        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        let score = 0;
        let currentQuestion = 0;

        // เมื่อโหลดหน้าเว็บ ให้แสดงเฉพาะ register page
        // document.addEventListener('DOMContentLoaded', () => {
        //     registerPage.style.display = 'flex';
        //     quizPage.style.display = 'none';
        //     resultPage.style.display = 'none';
        //     validateRegisterInputs();
        //     // เพิ่ม fade-in ให้ register page เพื่อให้สมูทมากขึ้น
        //     registerPage.classList.add('fade-in-up');
        //     setTimeout(() => {
        //         registerPage.classList.remove('fade-in-up');
        //     }, 600);
        // });
        document.addEventListener('DOMContentLoaded', () => {
            // Hide all pages initially
            registerPage.style.display = 'none';
            quizPage.style.display = 'none';
            resultPage.style.display = 'none';

            // Show loading animation with fade in effect
            const loadingContainer = document.querySelector('.container');
            loadingContainer.style.display = 'block';
            loadingContainer.style.opacity = '0';
            setTimeout(() => {
                loadingContainer.style.transition = 'opacity 0.5s ease';
                loadingContainer.style.opacity = '1';
            }, 100);

            // Wait 3 seconds for loading
            setTimeout(() => {
                // Fade out loading animation
                loadingContainer.style.transition = 'opacity 0.5s ease';
                loadingContainer.style.opacity = '0';

                // After fade out, hide loading and show register page
                setTimeout(() => {
                    loadingContainer.style.display = 'none';
                    registerPage.style.display = 'flex';
                    registerPage.classList.add('fade-in-up');

                    setTimeout(() => {
                        registerPage.classList.remove('fade-in-up');
                    }, 600);

                    validateRegisterInputs();
                }, 500);

            }, 3000);
        });

        // Validate registration inputs
        function validateRegisterInputs() {
            const allInputs = [nameInput, lastnameInput, numberInput];
            const isValid = allInputs.every(input => input.value.trim() !== '');
            submitRegister.disabled = !isValid;
            submitRegister.style.opacity = isValid ? '1' : '0.5';
            submitRegister.style.cursor = isValid ? 'pointer' : 'not-allowed';
        }
        [nameInput, lastnameInput, numberInput].forEach(input => {
            input.addEventListener('input', validateRegisterInputs);
        });

        // Validate registration inputs
        function validateRegisterInputs() {
            const allInputs = [nameInput, lastnameInput, numberInput];
            const isValid = allInputs.every(input => input.value.trim() !== '');
            submitRegister.disabled = !isValid;
            submitRegister.style.opacity = isValid ? '1' : '0.5';
            submitRegister.style.cursor = isValid ? 'pointer' : 'not-allowed';
        }
        [nameInput, lastnameInput, numberInput].forEach(input => {
            input.addEventListener('input', validateRegisterInputs);
        });

        // เมื่อกดปุ่ม Register
        submitRegister.addEventListener('click', () => {
            if (submitRegister.disabled) return;
            // playSound();
            setTimeout(() => {
                // transition effect
                registerPage.style.transition = 'opacity 0.5s ease';
                registerPage.style.opacity = '0';
                setTimeout(() => {
                    registerPage.style.display = 'none';
                    quizPage.style.display = 'flex';
                    quizPage.style.opacity = '0';
                    quizPage.style.transition = 'opacity 0.5s ease';
                    quizPage.classList.add('fade-in-up');
                    setTimeout(() => {
                        quizPage.classList.remove('fade-in-up');
                    }, 600);
                    setTimeout(() => {
                        quizPage.style.opacity = '1';
                    }, 100);
                    startQuiz();
                }, 500);
            }, 2000);
        });

        // เริ่มสุ่มโจทย์ 
        function startQuiz() {
            currentQuestion = 0;
            score = 0;
            feedbackEl.textContent = '';
            generateQuizQuestions();
            quizPage.style.display = 'flex';
            quizPage.style.opacity = '1';
            startTimer(); // เริ่มนับเวลา 20 นาที
            displayQuestion();
        }

        // แสดงคำถาม
        function displayQuestion() {
            if (currentQuestion < quizQuestions.length) {
                const q = quizQuestions[currentQuestion];
                questionEl.textContent = q.sentence;
                quizAnswer.value = '';
                quizAnswer.focus();
                feedbackEl.textContent = '';
            }
        }
        // Validate quiz answer input
        function validateQuizAnswer() {
            const isValid = quizAnswer.value.trim() !== '';
            submitAnswer.disabled = !isValid;
            submitAnswer.style.opacity = isValid ? '1' : '0.5';
            submitAnswer.style.cursor = isValid ? 'pointer' : 'not-allowed';
        }

        // Add input event listener for quiz answer and initial validation
        quizAnswer.addEventListener('input', validateQuizAnswer);
        validateQuizAnswer();

        // กดปุ่ม Submit Answer
        submitAnswer.addEventListener('click', () => {
            if (submitAnswer.disabled) return;
            // playSound();
            const userAnswer = quizAnswer.value.trim().toLowerCase();
            const correctAnswer = quizQuestions[currentQuestion].answer.toLowerCase();
            if (userAnswer === "") {
                feedbackEl.textContent = "Please enter an answer.";
                return;
            }
            // ใช้ delayTime 
            const delayTime = 500;
            if (userAnswer === correctAnswer) {
                score++;
                // feedbackEl.textContent = "Correct!";
            } else {
                // feedbackEl.textContent = `Incorrect! Correct answer: ${quizQuestions[currentQuestion].answer}`;
            }
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) {
                questionEl.style.transition = 'opacity 0.5s ease';
                quizAnswer.style.transition = 'opacity 0.5s ease';
                feedbackEl.style.transition = 'opacity 0.5s ease';
                // questionEl.style.transition = 'opacity 0.9s ease';
                // quizAnswer.style.transition = 'opacity 0.9s ease';
                // feedbackEl.style.transition = 'opacity 0.9s ease';

                questionEl.style.opacity = '0';
                quizAnswer.style.opacity = '0';
                feedbackEl.style.opacity = '0';

                setTimeout(() => {
                    displayQuestion();
                    questionEl.style.opacity = '1';
                    quizAnswer.style.opacity = '1';
                    feedbackEl.style.opacity = '1';
                }, delayTime);
            } else {
                setTimeout(showResult, delayTime);
            }
        });
        // Update submit button state based on quiz answer input
        quizAnswer.addEventListener('input', () => {
            const isValid = quizAnswer.value.trim() !== '';
            submitAnswer.disabled = !isValid;
            submitAnswer.style.opacity = isValid ? '1' : '0.5';
            submitAnswer.style.cursor = isValid ? 'pointer' : 'not-allowed';
        });

        // Initial state
        submitAnswer.disabled = true;
        submitAnswer.style.opacity = '0.5';
        submitAnswer.style.cursor = 'not-allowed';
        // แสดงผล
        function showResult() {
            clearInterval(timerInterval); // หยุด timer เมื่อ quiz จบ
            quizPage.style.opacity = '0';
            setTimeout(() => {
                quizPage.style.display = 'none';
                finalScoreEl.textContent = `Hi ${nameInput.value} ${lastnameInput.value}, your score is ${score} out of ${quizQuestions.length}.`;
                resultPage.style.display = 'flex';
                resultPage.style.opacity = '1';
                resultPage.classList.add('fade-in-up');
                setTimeout(() => {
                    resultPage.classList.remove('fade-in-up');
                }, 600);
            }, 500);
        }


        // downloadResultBtn.addEventListener('click', () => {
        //     playSound();
        //     const canvas = document.createElement('canvas');
        //     canvas.width = 800;
        //     canvas.height = 600;
        //     const ctx = canvas.getContext('2d');

        //     // พื้นหลังแบบกระดาษเกียรติบัตร (parchment)
        //     ctx.fillStyle = '#fdfaf6';
        //     ctx.fillRect(0, 0, canvas.width, canvas.height);

        //     // วาดกรอบเกียรติบัตรด้วยสีทองแบบ gradient
        //     const borderGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
        //     borderGradient.addColorStop(0, '#DAA520');
        //     borderGradient.addColorStop(1, '#FFD700');
        //     ctx.strokeStyle = borderGradient;
        //     ctx.lineWidth = 10;
        //     ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);

        //     // เขียนข้อความในรูปแบบเกียรติบัตร
        //     ctx.fillStyle = '#333';
        //     ctx.font = "bold 40px 'Kanit', sans-serif";
        //     ctx.textAlign = "center";
        //     ctx.fillText("Certificate of Achievement", canvas.width / 2, 100);

        //     ctx.font = "28px 'Kanit', sans-serif";
        //     ctx.fillText("Presented to", canvas.width / 2, 160);
        //     ctx.font = "bold 32px 'Kanit', sans-serif";
        //     ctx.fillText(`${nameInput.value} ${lastnameInput.value}`, canvas.width / 2, 210);

        //     ctx.font = "28px 'Kanit', sans-serif";
        //     ctx.fillText(`Quiz Score: ${score} / ${quizQuestions.length}`, canvas.width / 2, 280);

        //     ctx.font = "24px 'Kanit', sans-serif";
        //     ctx.fillText(`Number: ${numberInput.value}`, canvas.width / 2, 340);
        //     ctx.fillText(`Date: ${new Date().toLocaleString()}`, canvas.width / 2, 400);

        //     // เพิ่ม watermark ให้บังทับทั้งหมด (overlay watermark)
        //     ctx.save();
        //     ctx.globalAlpha = 0.1;
        //     ctx.font = "bold 100px 'Kanit', sans-serif";
        //     ctx.fillStyle = "#333";
        //     ctx.textAlign = "center";
        //     ctx.translate(canvas.width / 2, canvas.height / 2);
        //     ctx.rotate(-Math.PI / 6);
        //     ctx.fillText("© Teacher Sopa", 0, 0);
        //     ctx.restore();

        //     const dataURL = canvas.toDataURL("image/png");
        //     const downloadAnchorNode = document.createElement('a');
        //     downloadAnchorNode.setAttribute("href", dataURL);
        //     downloadAnchorNode.setAttribute("download", "quiz_certificate.png");
        //     document.body.appendChild(downloadAnchorNode);
        //     downloadAnchorNode.click();
        //     downloadAnchorNode.remove();
        // });

        downloadResultBtn.addEventListener('click', () => {
            // playSound();
            // กำหนดขนาด canvas ให้ละเอียดขึ้น
            const canvas = document.createElement('canvas');
            canvas.width = 1200;
            canvas.height = 800;
            const ctx = canvas.getContext('2d');

            // 1. พื้นหลังแบบกระดาษเกียรติบัตรโดยใช้ radial gradient
            const bgGradient = ctx.createRadialGradient(canvas.width / 2, canvas.height / 2, 100, canvas.width / 2, canvas.height / 2, 600);
            bgGradient.addColorStop(0, '#fdfaf6');
            bgGradient.addColorStop(1, '#e8e1d7');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 2. เติม texture ด้วย noise overlay แบบ subtle
            const noiseCanvas = document.createElement('canvas');
            noiseCanvas.width = canvas.width;
            noiseCanvas.height = canvas.height;
            const noiseCtx = noiseCanvas.getContext('2d');
            const noiseData = noiseCtx.createImageData(canvas.width, canvas.height);
            for (let i = 0; i < noiseData.data.length; i += 4) {
                const v = Math.floor(Math.random() * 255);
                noiseData.data[i] = v;
                noiseData.data[i + 1] = v;
                noiseData.data[i + 2] = v;
                noiseData.data[i + 3] = 15; // ความโปร่งแสงต่ำเพื่อให้ noise subtle
            }
            noiseCtx.putImageData(noiseData, 0, 0);
            ctx.drawImage(noiseCanvas, 0, 0);

            // 3. วาดกรอบหลักด้วยเส้นสีทอง gradient หนา 20px
            const outerGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
            outerGradient.addColorStop(0, '#DAA520');
            outerGradient.addColorStop(1, '#FFD700');
            ctx.strokeStyle = outerGradient;
            ctx.lineWidth = 20;
            ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);

            // 4. วาดกรอบย่อย (inner border) ด้วยเส้นประเพื่อเพิ่มความซับซ้อน
            ctx.strokeStyle = outerGradient;
            ctx.lineWidth = 4;
            ctx.setLineDash([20, 15]);
            ctx.strokeRect(50, 50, canvas.width - 100, canvas.height - 100);
            ctx.setLineDash([]);

            // 5. ลวดลายตกแต่งมุมด้วย bezier curves (ออกแบบให้ดูหรูหรา)
            function drawOrnateCorner(x, y, angle) {
                ctx.save();
                ctx.translate(x, y);
                ctx.rotate(angle);
                ctx.strokeStyle = outerGradient;

                // Main flourish
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.bezierCurveTo(-40, -40, -100, 40, 0, 80);
                ctx.bezierCurveTo(100, 40, 40, -40, 0, 0);
                ctx.stroke();

                // Inner decorative curves
                ctx.beginPath();
                ctx.moveTo(-20, 20);
                ctx.quadraticCurveTo(-40, 30, -30, 50);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(20, 20);
                ctx.quadraticCurveTo(40, 30, 30, 50);
                ctx.stroke();

                // Spiral details
                for (let i = 0; i < 2; i++) {
                    ctx.beginPath();
                    ctx.arc(i === 0 ? -25 : 25, 25, 10, 0, Math.PI * 2);
                    ctx.stroke();
                }

                // Small dots for decoration
                ctx.fillStyle = '#DAA520';
                [[-40, 0], [40, 0], [0, 40], [0, 60]].forEach(([dx, dy]) => {
                    ctx.beginPath();
                    ctx.arc(dx, dy, 3, 0, Math.PI * 2);
                    ctx.fill();
                });

                ctx.restore();
            }
            ctx.lineWidth = 3;
            drawOrnateCorner(20, 20, 0);
            drawOrnateCorner(canvas.width - 20, 20, Math.PI / 2);
            drawOrnateCorner(20, canvas.height - 20, -Math.PI / 2);
            drawOrnateCorner(canvas.width - 20, canvas.height - 20, Math.PI);

            // 6. เขียนข้อความด้วยเอฟเฟ็กต์เงาและ stroke เพื่อให้มีมิติ
            // ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.textAlign = "center";
            // ctx.shadowColor = "rgba(0, 0, 0, 0.4)";
            // ctx.shadowBlur = 8;
            // ctx.shadowOffsetX = 5;
            // ctx.shadowOffsetY = 5;
            ctx.globalAlpha = 0.7;
            ctx.fillStyle = '#333';

            // Title: Certificate of Achievement
            ctx.font = "bold 60px 'Kanit', sans-serif";
            ctx.lineWidth = 2;
            ctx.strokeStyle = "#fff";
            ctx.strokeText("Score Confirmation", canvas.width / 2, 140);
            ctx.fillText("Score Confirmation", canvas.width / 2, 140);

            // "Presented to"
            ctx.font = "36px 'Kanit', sans-serif";
            ctx.strokeText("Tester Name", canvas.width / 2, 220);
            ctx.fillText("Tester Name", canvas.width / 2, 220);

            // ชื่อผู้รับเกียรติบัตร
            ctx.font = "bold 52px 'Kanit', sans-serif";
            ctx.strokeText(`${nameInput.value} ${lastnameInput.value}`, canvas.width / 2, 300);
            ctx.fillText(`${nameInput.value} ${lastnameInput.value}`, canvas.width / 2, 300);

            // คะแนน Quiz
            ctx.font = "36px 'Kanit', sans-serif";
            ctx.strokeText(`Test Score: ${score} / ${quizQuestions.length}`, canvas.width / 2, 380);
            ctx.fillText(`Test Score: ${score} / ${quizQuestions.length}`, canvas.width / 2, 380);

            // ข้อมูลเพิ่มเติม: หมายเลขและวันที่
            ctx.font = "32px 'Kanit', sans-serif";
            ctx.strokeText(`No.${numberInput.value}`, canvas.width / 2, 460);
            ctx.fillText(`No.${numberInput.value}`, canvas.width / 2, 460);
            ctx.strokeText(`Testing data: ${new Date().toLocaleString()}`, canvas.width / 2, 520);
            ctx.fillText(`Testing data: ${new Date().toLocaleString()}`, canvas.width / 2, 520);

            // 7. เพิ่ม watermark แบบซับซ้อนด้วยการวาดข้อความซ้ำในรูปแบบ grid ที่เอียงกัน
            ctx.save();
            ctx.globalAlpha = 0.12; // ปรับความทึบเพื่อให้ข้อความชัดเจนขึ้น
            ctx.font = "bold 100px 'Kanit', sans-serif";
            ctx.fillStyle = "#333";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";

            // ใช้ loop เพื่อวาด watermark ซ้ำด้วย spacing ที่ปรับใหม่
            for (let i = -1; i <= 3; i++) {
                for (let j = -1; j <= 3; j++) {
                    ctx.save();
                    // ปรับ spacing โดยใช้ค่า 350 สำหรับแกน X และ 250 สำหรับแกน Y
                    ctx.translate(canvas.width / 2 + i * 350, canvas.height / 2.7 + j * 250);
                    // ปรับมุมหมุนให้อ่านได้ง่ายขึ้น (เปลี่ยนจาก -Math.PI/6 เป็น -Math.PI/8)
                    ctx.rotate(-Math.PI / 8);
                    ctx.fillText("© Teacher Sopa", 0, 0);
                    ctx.restore();
                }
            }
            ctx.restore();

            // 8. สร้างลิงก์ดาวน์โหลดและ trigger การดาวน์โหลดไฟล์ PNG
            const dataURL = canvas.toDataURL("image/png");
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataURL);
            downloadAnchorNode.setAttribute("download", "quiz_certificate.png");
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
        });


        // downloadResultBtn.addEventListener('click', () => {
        //     playSound();
        //     // ปรับขนาด canvas ให้ใหญ่ขึ้นเพื่อความละเอียดที่ดีกว่า
        //     const canvas = document.createElement('canvas');
        //     canvas.width = 1200;
        //     canvas.height = 800;
        //     const ctx = canvas.getContext('2d');

        //     // สร้างพื้นหลังแบบ gradient รู้สึกเหมือนกระดาษเกียรติบัตร (parchment)
        //     const bgGradient = ctx.createRadialGradient(canvas.width / 2, canvas.height / 2, 100, canvas.width / 2, canvas.height / 2, 600);
        //     bgGradient.addColorStop(0, '#fdfaf6');
        //     bgGradient.addColorStop(1, '#e2dcd5');
        //     ctx.fillStyle = bgGradient;
        //     ctx.fillRect(0, 0, canvas.width, canvas.height);

        //     // วาดกรอบเกียรติบัตรด้วย gradient สีทองที่หนาและเรียบหรู
        //     const borderGradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
        //     borderGradient.addColorStop(0, '#DAA520');
        //     borderGradient.addColorStop(1, '#FFD700');
        //     ctx.strokeStyle = borderGradient;
        //     ctx.lineWidth = 15;
        //     ctx.strokeRect(30, 30, canvas.width - 60, canvas.height - 60);

        //     // ฟังก์ชันวาดลวดลายตกแต่งมุมกรอบ
        //     function drawCornerFlourish(x, y, rotation) {
        //         ctx.save();
        //         ctx.translate(x, y);
        //         ctx.rotate(rotation);
        //         ctx.beginPath();
        //         ctx.moveTo(0, 0);
        //         ctx.lineTo(50, 0);
        //         ctx.lineTo(40, 20);
        //         ctx.lineTo(60, 40);
        //         ctx.lineTo(30, 50);
        //         ctx.lineTo(0, 30);
        //         ctx.stroke();
        //         ctx.restore();
        //     }
        //     ctx.lineWidth = 4;
        //     ctx.strokeStyle = borderGradient;
        //     // วาดลวดลายที่มุมทั้งสี่
        //     drawCornerFlourish(30, 30, 0);
        //     drawCornerFlourish(canvas.width - 30, 30, Math.PI / 2);
        //     drawCornerFlourish(30, canvas.height - 30, -Math.PI / 2);
        //     drawCornerFlourish(canvas.width - 30, canvas.height - 30, Math.PI);

        //     // เขียนข้อความด้วยเงา
        //     ctx.textAlign = "center";
        //     ctx.fillStyle = '#333';
        //     ctx.shadowColor = "rgba(0, 0, 0, 0.2)";
        //     ctx.shadowOffsetX = 3;
        //     ctx.shadowOffsetY = 3;
        //     ctx.shadowBlur = 5;

        //     ctx.font = "bold 50px 'Kanit', sans-serif";
        //     ctx.fillText("Certificate of Achievement", canvas.width / 2, 120);

        //     ctx.font = "28px 'Kanit', sans-serif";
        //     ctx.fillText("Presented to", canvas.width / 2, 190);

        //     ctx.font = "bold 36px 'Kanit', sans-serif";
        //     ctx.fillText(`${nameInput.value} ${lastnameInput.value}`, canvas.width / 2, 250);

        //     ctx.font = "28px 'Kanit', sans-serif";
        //     ctx.fillText(`Quiz Score: ${score} / ${quizQuestions.length}`, canvas.width / 2, 320);

        //     ctx.font = "24px 'Kanit', sans-serif";
        //     ctx.fillText(`Number: ${numberInput.value}`, canvas.width / 2, 380);
        //     ctx.fillText(`Date: ${new Date().toLocaleString()}`, canvas.width / 2, 430);

        //     // รีเซ็ตเงาก่อน watermark
        //     ctx.shadowColor = "transparent";

        //     // เพิ่ม ลายน้ำ
        //     ctx.save();
        //     ctx.globalAlpha = 0.15;
        //     ctx.font = "bold 120px 'Kanit', sans-serif";
        //     ctx.fillStyle = "#333";
        //     ctx.textAlign = "center";
        //     ctx.translate(canvas.width / 2, canvas.height / 2);
        //     ctx.rotate(-Math.PI / 6);
        //     ctx.fillText("© Teacher Sopa", 0, 0);
        //     ctx.restore();

        //     // สร้างลิงก์ดาวน์โหลดภาพและ trigger การดาวน์โหลด
        //     const dataURL = canvas.toDataURL("image/png");
        //     const downloadAnchorNode = document.createElement('a');
        //     downloadAnchorNode.setAttribute("href", dataURL);
        //     downloadAnchorNode.setAttribute("download", "quiz_certificate.png");
        //     document.body.appendChild(downloadAnchorNode);
        //     downloadAnchorNode.click();
        //     downloadAnchorNode.remove();
        // });
    </script>
    <script>
        // Global variables สำหรับ timer
        let totalTime = 10 * 60; // 20 นาที = 1200 วินาที
        // let totalTime = 20 * 60; // 20 นาที = 1200 วินาที
        let timerInterval;

        function startTimer() {
            timerInterval = setInterval(() => {
                totalTime--;
                let minutes = Math.floor(totalTime / 60);
                let seconds = totalTime % 60;
                // อัปเดตข้อความใน element timer
                document.getElementById('timer').textContent =
                    `Time Left: ${minutes < 10 ? '0' + minutes : minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
                // เมื่อหมดเวลาแล้ว
                if (totalTime <= 0) {
                    clearInterval(timerInterval);
                    showResult();
                }
            }, 1000);
        }
    </script>
</body>

</html>
